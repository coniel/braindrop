---
metaTitle: Topic API Interface
metaDescription: An interface for retrieving and managing topics.
---

# Topics

<Description>
  An interface for retrieving and managing topics.
</Description>

## Hooks

Hooks provide access to topics and related data from inside React components. Unlike data accessed using static methods, hooks will cause the component to rerender when the data changes.

### useTopic

Returns a topic by ID or `null` if no topic was found.

```ts
useTopic(id: string): Topic | null
```

<ArgsTable
  data={[
    {
      name: 'id',
      type: 'string',
      required: true,
      description: 'The ID of the topic to retrieve.',
    },
  ]}
/>

### useTopics

Returns a `{ [id]: Topic }` map of topics matching the provided IDs. By default, only active topics are returned.

```ts
useTopics(ids: string[], filters?: TopicFilters): Record<string, Topic>
```

<ArgsTable
  data={[
    {
      name: 'ids',
      type: 'string[]',
      description: 'The IDs of the topics to retrieve.',
    },
    {
      name: 'filters',
      type: 'TopicFilters',
      description: (
        <span>
          Allows filtering of returned topics. See the{' '}
          <a href="#topicfilters">TopicFilters</a> section for more
          details.
        </span>
      ),
    },
  ]}
/>

## Static methods

### get

Retrieves topics by ID. If provided a signle ID string, returns the topic or `null` if not found. If provided an array of IDs, returns an array of the corresponding topics. By default, only active topics are returned when getting multiple topics. Filtering is not supported when getting a single topic.

```ts
Topics.get(id: string | string[], filters?: TopicFilters): Topic | Topic[] | null
```

<ArgsTable
  data={[
    {
      name: 'id',
      type: 'string | string[]',
      required: true,
      description: 'The ID(s) of the topic(s) to retrieve.',
    },
    {
      name: 'filters',
      type: 'TopicFilters',
      description: (
        <span>
          Allows filtering of returned topics. See the{' '}
          <a href="#topicfilters">TopicFilters</a> section for more
          details.
        </span>
      ),
    },
  ]}
/>

### parents

Retrieves a topic's parents, returning an array of topics. By default, only active topics are returned.

```ts
Topics.parents(id: string, filters?: TopicFilters): Topic[]
```

<ArgsTable
  data={[
    {
      name: 'id',
      type: 'string',
      required: true,
      description:
        'The ID of the topic for which to retrieve the parent topics.',
    },
    {
      name: 'filters',
      type: 'TopicFilters',
      description: (
        <span>
          Allows filtering of returned topics. See the{' '}
          <a href="#topicfilters">TopicFilters</a> section for more
          details.
        </span>
      ),
    },
  ]}
/>

### dropParents

Retrieves a drop's parent topics, returning an array of topics. By default, only active topics are returned.

```ts
Topics.dropParents(id: string, filters?: TopicFilters): Topic[]
```

<ArgsTable
  data={[
    {
      name: 'id',
      type: 'string',
      required: true,
      description:
        'The ID of the drop for which to retrieve the parent topics.',
    },
    {
      name: 'filters',
      type: 'TopicFilters',
      description: (
        <span>
          Allows filtering of returned topics. See the{' '}
          <a href="#topicfilters">TopicFilters</a> section for more
          details.
        </span>
      ),
    },

]}
/>

### create

Creates a new topic and dispatches a `create-topic` event. Returns the new topic.

```ts
Topics.create(core: Core, data?: CreateTopicData): Topic
```

<ArgsTable
  core
  data={[
    {
      name: 'data',
      type: 'CreateTopicData',
      description:
        'The default topic property values. See below for details.',
    },
  ]}
/>

#### `CreateTopicData`

<InterfaceTable
  data={[
    {
      name: 'title',
      type: 'string',
      description: 'The topic title.',
    },
    {
      name: 'hidden',
      type: 'true',
      description:
        'If set, the topic will be created as a hidden topic.',
    },
  ]}
/>

### update

Updates a topic and dispatches a `update-topic` event. Returns the updated topic.

```ts
Topics.update(core: Core, id: string, data: UpdateTopicData): Topic
```

<ArgsTable
  core
  data={[
    {
      name: 'id',
      type: 'string',
      required: true,
      description: 'The ID of the topic to update.',
    },
    {
      name: 'data',
      type: 'UpdateTopicData',
      required: true,
      description:
        'The changes to apply to the topic. See below for details.',
    },
  ]}
/>

#### `UpdateTopicData`

<InterfaceTable
  data={[
    {
      name: 'title',
      type: 'string',
      description: 'The topic title.',
    },
  ]}
/>

### addSubtopic

Adds a topic as a subtopic into another topic **without removing** it from its current location. Dispatches an `add-subtopic` event, as well as `update-topic` events for both topics.

```ts
Topics.addSubtopic(core: Core, topicId: string, subtopicId: string): void
```

<ArgsTable core data={[

    {
      name: 'topicId',
      type: 'string',
      required: true,
      description: 'The ID of the parent topic into which to add the subtopic.',
    },
    {
      name: 'subtopicId',
      type: 'string',
      required: true,
      description: 'The ID of the subtopic.',
    },

]} />

### removeSubtopic

Removes a subtopic from a topic. Dispatches a `remove-subtopic` event as well as `update-topic` events for both affected topics.

```tsx
Topics.removeSubtopic(core: Core, parentId: string, subtopicId: string): void
```

<ArgsTable core data={[

    {
      name: 'parentId',
      type: 'string',
      required: true,
      description: 'The ID of the parent topic from which to remove the subtopic.',
    },
    {
      name: 'subtopicId',
      type: 'string',
      required: true,
      description: 'The ID of the subtopic to remove.',
    },

]} />

### archive

Archives a topic and dispatches an `archive-topic` event and an `update-topic` event.

```ts
Topics.archive(core: Core, id: string): void
```

<ArgsTable
  core
  data={[
    {
      name: 'id',
      type: 'string',
      required: true,
      description: 'The ID of the topic to archive.',
    },
  ]}
/>

### unarchive

Unarchives a topic and dispatches an `unarchive-topic` event and an `update-topic` event.

```ts
Topics.unarchive(core: Core, id: string): void
```

<ArgsTable
  core
  data={[
    {
      name: 'id',
      type: 'string',
      required: true,
      description: 'The ID of the topic to unarchive.',
    },
  ]}
/>

### delete

Deletes a topic and dispatches an `delete-topic` event and an `update-topic` event.

```ts
Topics.delete(core: Core, id: string): void
```

<ArgsTable
  core
  data={[
    {
      name: 'id',
      type: 'string',
      required: true,
      description: 'The ID of the topic to delete.',
    },
  ]}
/>

### restore

Restores a deleted topic and dispatches a `restore-topic` event and an `update-topic` event.

```ts
Topics.restore(core: Core, id: string): void
```

<ArgsTable
  core
  data={[
    {
      name: 'id',
      type: 'string',
      required: true,
      description: 'The ID of the topic to restore.',
    },
  ]}
/>

### addDrop

Adds a drop to a topic, dispaches an `add-drop` event and an `update-topic` event.

```ts
Topics.addDrop(core: Core, topicId: string, dropId: string): void
```

<ArgsTable
  core
  data={[
    {
      name: 'topicId',
      type: 'string',
      required: true,
      description: 'The ID of the topic to which to add the drop.',
    },
    {
      name: 'dropId',
      type: 'string',
      required: true,
      description: 'The ID of the drop to add.',
    },
  ]}
/>

### removeDrop

Removes a drop from a topic and dispatches a `remove-drop` event as well as an `update-topic` event.

```ts
Topics.addDrop(core: Core, topicId: string, dropId: string): void
```

<ArgsTable
  core
  data={[
    {
      name: 'topicId',
      type: 'string',
      required: true,
      description: 'The ID of the topic to which to add the drop.',
    },
    {
      name: 'dropId',
      type: 'string',
      required: true,
      description: 'The ID of the drop to remove.',
    },
  ]}
/>

### addTag

Adds a tag to a topic, dispaches an `add-topic-tag` event and an `update-topic` event.

```ts
Topics.addTag(core: Core, topicId: string, tagId: string): void
```

<ArgsTable
  core
  data={[
    {
      name: 'topicId',
      type: 'string',
      required: true,
      description: 'The ID of the topic to which to add the tag.',
    },
    {
      name: 'tagId',
      type: 'string',
      required: true,
      description: 'The ID of the tag to add.',
    },
  ]}
/>

### removeTag

Removes a tag from a topic and dispatches a `remove-topic-tag` event as well as an `update-topic` event.

```ts
Topics.addTag(core: Core, topicId: string, tagId: string): void
```

<ArgsTable
  core
  data={[
    {
      name: 'topicId',
      type: 'string',
      required: true,
      description: 'The ID of the topic to which to add the tag.',
    },
    {
      name: 'tagId',
      type: 'string',
      required: true,
      description: 'The ID of the tag to remove.',
    },
  ]}
/>

### load

Loads topics into the store and dispatches a `load-topics` event.

```ts
Topics.load(core: Core, topics: Topic[]): void
```

<ArgsTable
  core
  data={[
    {
      name: 'topics',
      type: 'Topic[]',
      required: true,
      description: 'The topics to load into the store.',
    },
  ]}
/>

### insertData

Dispatches a `topic-insert-data` event.

```ts
Topics.insertData(core: Core, id: string, data: DataInsert): void
```

<ArgsTable
  core
  data={[
    {
      name: 'id',
      type: 'string',
      required: true,
      description:
        'The ID of the topic into which to insertb the data.',
    },
    {
      name: 'data',
      type: 'DataInsert',
      description: 'The inserted data.',
    },
  ]}
/>

### addEventListener

Adds topic specific event listeners. Equivalent to calling `addEventListener` directly on `app`, but provides more advanced type definitions.

```ts
Topics.addEventListener(core: Core, event: TopicEvent, callback: EventListenerCallback): void
```

<ArgsTable
  core
  data={[
    {
      name: 'event',
      type: 'TopicEvent',
      required: true,
      description:
        'The event type to listen for. See the topic events section below for available events.',
    },
    {
      name: 'callback',
      type: 'EventListenerCallback',
      required: true,
      description:
        'The callback fired when the event occurs. See the topic events section below for the data passed to the callback.',
    },
  ]}
/>

### removeEventListener

Removes topic specific event listeners. Equivalent to calling `removeEventListener` directly on `app`, but provides more advanced type definitions.

```ts
Topics.removeEventListener(core: Core, event: TopicEvent, callback: EventListenerCallback): void
```

<ArgsTable
  core
  data={[
    {
      name: 'event',
      type: 'TopicEvent',
      required: true,
      description:
        'The event type for which to remove the event listener.',
    },
    {
      name: 'callback',
      type: 'EventListenerCallback',
      required: true,
      description: 'The callback of the event listener to remove.',
    },
  ]}
/>

## Topic events

Topic events are prefixed with the namespace `topics`.

See below the table for more details on the data passed by topic related events.

<EventsTable
  data={[
    {
      name: 'topics:create',
      data: 'Topic',
      description: 'Dispatched when a topic is created.',
    },
    {
      name: 'topics:update',
      data: 'UpdateTopicEventData',
      description: 'Dispatched when a topic is updated.',
    },
    {
      name: 'topics:add-subtopic',
      data: 'AddSubtopicEventData',
      description: 'Dispatched when a subtopic is added to a topic.',
    },
    {
      name: 'topics:remove-subtopic',
      data: 'RemoveSubtopicEventData',
      description:
        'Dispatched when a subtopic is removed from a topic.',
    },
    {
      name: 'topics:archive',
      data: 'Topic',
      description: 'Dispatched when a topic is archived.',
    },
    {
      name: 'topics:unarchive',
      data: 'Topic',
      description: 'Dispatched when a topic is unarchived.',
    },
    {
      name: 'topics:delete',
      data: 'Topic',
      description: 'Dispatched when a topic is deleted.',
    },
    {
      name: 'topics:restore',
      data: 'Topic',
      description: 'Dispatched when a deleted topic is restored.',
    },
    {
      name: 'topics:add-drop',
      data: 'AddDropEventData',
      description: 'Dispatched when a drop is added to a topic.',
    },
    {
      name: 'topics:remove-drop',
      data: 'RemoveDropEventData',
      description: 'Dispatched when a drop is removed from a topic.',
    },
    {
      name: 'topics:add-tag',
      data: 'AddTagEventData',
      description: 'Dispatched when a tag is added to a topic.',
    },
    {
      name: 'topics:remove-tag',
      data: 'RemoveTagEventData',
      description: 'Dispatched when a tag is removed from a topic.',
    },
    {
      name: 'topics:load',
      data: 'Topic[]',
      description:
        'Dispatched when topics are loaded into the store.',
    },
    {
      name: 'topics:insert-data',
      data: 'DataInsert',
      description:
        'Dispatched when data is inserted indiscriminately into a topic (e.g. files dropped into the topic view).',
    },
  ]}
/>

### Topic event data types

Topic events are dispatched with one of the following types of data.

#### Topic

See the [Topic](/docs/extensions/types/topic) interface page.

#### UpdateTopicEventData

<InterfaceTable
  data={[
    {
      name: 'before',
      type: 'Topic',
      required: true,
      description: 'Topic data before it was changed.',
    },
    {
      name: 'after',
      type: 'Topic',
      required: true,
      description: 'Updated topic data.',
    },
    {
      name: 'changes',
      type: 'TopicChanges',
      required: true,
      description:
        'The changes made to the topic. See below for details.',
    },
  ]}
/>

`TopicChanges`

<InterfaceTable
  data={[
    {
      name: 'updatedAt',
      type: 'Date',
      required: true,
      description: 'The timestamp at which the topic was updated.',
    },
    {
      name: 'title',
      type: 'string',
      description: 'The topic title.',
    },
    {
      name: 'subtopics',
      type: 'string[]',
      description: 'The IDs of the topics inside the topic.',
    },
    {
      name: 'drops',
      type: 'string[]',
      description: 'The IDs of the drops inside the topic.',
    },
    {
      name: 'tags',
      type: 'string[]',
      description: 'IDs of the tags belonging to the topic.',
    },
    {
      name: 'archived',
      type: 'boolean | Delete',
      description: (
        <span>
          If <Code>true</Code>, the topic is archived.
        </span>
      ),
    },
    {
      name: 'archivedAt',
      type: 'Date | Delete',
      description: 'Timestamp at which the topic was archived.',
    },
    {
      name: 'deleted',
      type: 'boolean | Delete',
      description: (
        <span>
          If <Code>true</Code> the topic is deleted.
        </span>
      ),
    },
    {
      name: 'deletedAt',
      type: 'Date | Delete',
      description: 'Timestamp at which the topic was deleted.',
    },
  ]}
/>

#### AddSubtopicEventData

<InterfaceTable
  data={[
    {
      name: 'topic',
      type: 'Topic',
      required: true,
      description: 'The topic to which the subtopic was added.',
    },
    {
      name: 'subtopic',
      type: 'Topic',
      required: true,
      description: 'The subtopic added to the topic.',
    },
  ]}
/>

#### RemoveSubtopicEventData

<InterfaceTable
  data={[
    {
      name: 'topic',
      type: 'Topic',
      required: true,
      description: 'The topic from which the subtopic was removed.',
    },
    {
      name: 'subtopic',
      type: 'Topic',
      required: true,
      description: 'The subtopic which was removed from the topic.',
    },
  ]}
/>

#### AddDropEventData

<InterfaceTable
  data={[
    {
      name: 'topic',
      type: 'Topic',
      required: true,
      description: 'The topic to which the drop was added.',
    },
    {
      name: 'drop',
      type: 'Drop',
      required: true,
      description: 'The drop which was added to the topic.',
    },
  ]}
/>

#### RemoveDropEventData

<InterfaceTable
  data={[
    {
      name: 'topic',
      type: 'Topic',
      required: true,
      description: 'The topic from which the drop was removed.',
    },
    {
      name: 'drop',
      type: 'Drop',
      required: true,
      description: 'The drop which was removed from the topic.',
    },
  ]}
/>

#### AddTagEventData

<InterfaceTable
  data={[
    {
      name: 'topic',
      type: 'Topic',
      required: true,
      description: 'The topic to which the tag was added.',
    },
    {
      name: 'tag',
      type: 'Tag',
      required: true,
      description: 'The tag which was added to the topic.',
    },
  ]}
/>

#### RemoveTagEventData

<InterfaceTable
  data={[
    {
      name: 'topic',
      type: 'Topic',
      required: true,
      description: 'The topic from which the tag was removed.',
    },
    {
      name: 'tag',
      type: 'Tag',
      required: true,
      description: 'The tag which was removed from the topic.',
    },
  ]}
/>

## TopicFilters

<PropsTable
  data={[
    {
      name: 'active',
      type: 'boolean',
      default: 'true',
      description:
        'Include active topics (topics which are neither archived nor deleted).',
    },
    {
      name: 'archived',
      type: 'boolean',
      default: 'false',
      description: 'Include archived topics.',
    },
    {
      name: 'deleted',
      type: 'boolean',
      default: 'false',
      description: 'Include deleted topics.',
    },
  ]}
/>
