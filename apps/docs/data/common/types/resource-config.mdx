---
metaTitle: ResourceConfig
metaDescription: An interface describing how to retrieve and manage persistently stored resources.
---

# ResourceConfig

<Description>
  An interface describing how to retrieve and manage persistently
  stored resources.
</Description>

Resources are JSON documents stored in a persistent manner (and synced accross devices if using the Sync add on).

MindDrop's core is responsible for retrieving and managing persistent resources. Resource types can be registered using the `core.registerResource` method. See the [Core API page](/docs/extensions/api/core) for more details.

### ResourceConfig

<InterfaceTable
  data={[
    {
      name: 'type',
      type: 'string',
      required: true,
      description: (
        <span>
          A unique identifier for the type of the resource composed
          using the extension ID and resource type:{' '}
          <Code>[extensionId]:[resourceType]</Code>. For example,
          topics have a type of <Code>'topics:topic'</Code>.
        </span>
      ),
    },
    {
      name: 'onLoad',
      type: 'ResourceLoadHandler',
      description:
        'A callback fired once when the resources are loaded on app startup. See below for details.',
    },
    {
      name: 'onChange',
      type: 'ResourceChangeHandler',
      description:
        'A callback fired whenever a resource matching the given type is added, updated, or deleted. See below for details.',
    },
    {
      name: 'createEvent',
      type: 'string',
      description: (
        <span>
          If provided, an event listener will be added for this event
          type. When such an event is fired, the attached resource
          will be added to the persistent store. The event data must
          be the resource itself.
        </span>
      ),
    },
    {
      name: 'updateEvent',
      type: 'string',
      description: (
        <span>
          If provided, an event listener will be added for this event
          type. When such an event is fired, the attached resource
          will be updated in the persistent store. The event data must
          be a <Code>ResourceChange</Code> (see below for details).
        </span>
      ),
    },
    {
      name: 'deleteEvent',
      type: 'string',
      description: (
        <span>
          If provided, an event listener will be added for this event
          type. When such an event is fired, the attached resource
          will be permanently deleted from the persistent store. The
          event data must be the resource itself.
        </span>
      ),
    },
  ]}
/>

### onLoad

A callback fired once when the resources are loaded on app startup.

```ts
onLoad(core: Core, resources: Resouce[]): void;
```

<ArgsTable
  core
  data={[
    {
      name: 'resources',
      type: '[Resource]',
      required: true,
      description:
        'The resources which were loaded from the persistent store.',
    },
  ]}
/>

### onChange

A callback fired whenever a resource matching the given type is added, updated, or deleted.

```ts
onChange(core: Core, resource: Resouce, deleted: boolean): void;
```

<ArgsTable
  core
  data={[
    {
      name: 'resource',
      type: '[Resource]',
      required: true,
      description: 'The resource which changed.',
    },
    {
      name: 'deleted',
      type: 'boolean',
      required: true,
      description: (
        <span>
          If <Code>true</Code>, the resource has been permanently
          deleted.
        </span>
      ),
    },
  ]}
/>

### ResourceChange

<InterfaceTable
  data={[
    {
      name: 'before',
      type: '[Resource]',
      description: 'The resource data before it was changed.',
    },
    {
      name: 'after',
      type: '[Resource]',
      description: 'The resource data after it was changed.',
    },
    {
      name: 'changes',
      type: '[ResourceChanges]',
      description: (
        <span>
          The changes applied to the resource data. Supports{' '}
          <Code>FieldValue</Code> values.
        </span>
      ),
    },
  ]}
/>
