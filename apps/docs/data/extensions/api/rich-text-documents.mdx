---
metaTitle: RichTextDocuments API Reference
metaDescription: An interface for retrieving and managing rich text documents.
---

# RichTextDocuments

<Description>
  An interface for retrieving and managing rich text documents.
</Description>

## Hooks

Hooks provide access to rich text documents and related data from inside React components. Unlike data accessed using static methods, hooks will cause the component to rerender when the data changes.

### useRichTextDocument

Returns a rich text document by ID or `null` if it does not exist.

```ts
useRichTextDocument(documentId: string): RichTextDocument | null;
```

<ArgsTable
  data={[
    {
      name: 'documentId',
      type: 'string',
      required: true,
      description: 'The ID of the rich text document to retrieve.',
    },
  ]}
/>

## Static methods

### get

Retrieves rich text documents by ID. If provided a single ID string, returns the matching rich text document. If provided an array of IDs, returns a `{ [id]: RichTextDocument }` of the corresponding rich text documents.

Throws a `RichTextDocumentNotFoundError` if a document does not exist.

```ts
RichTextDocuments.get(documentId: string | string[]): RichTextDocument | RichTextDocumentMap
```

<ArgsTable
  data={[
    {
      name: 'documentId',
      type: 'string | string[]',
      required: true,
      description:
        'The ID(s) of the rich text document(s) to retrieve.',
    },
  ]}
/>

### getAll

Retrieves all rich text documents as a `RichTextDocumentMap`.

```ts
RichTextDocuments.getAll(): RichTextDocumentMap
```

### create

Creates a new rich text document and dispaches a `rich-text-documents:create` event. Returns the new rich text document.

```ts
RichTextDocuments.create(core: Core, children: string[]): RichTextDocument;
```

<ArgsTable
  core
  data={[
    {
      name: 'children',
      type: 'string[]',
      required: true,
      description: (
        <span>
          The IDs of the <Code>RichTextElement</Code>s which make up
          the content of the document.
        </span>
      ),
    },
  ]}
/>

### update

Updates a rich text document and dispaches a `rich-text-document:update` event. Returns the updated rich text document.

Throws a `RichTextDocumentNotFoundError` if the document does not exist.

```ts
RichTextDocuments.update(core: Core, documentId: string, data: UpdateRichTextDocumentData): RichTextDocument
```

<ArgsTable
  core
  data={[
    {
      name: 'documentId',
      type: 'string',
      required: true,
      description: 'The ID of the rich text document to update.',
    },
    {
      name: 'data',
      type: 'UpdateRichTextDocumentData',
      required: true,
      description:
        'The changes to make to the rich text document. See below for details.',
    },
  ]}
/>

`UpdateRichTextDocumentData`

<InterfaceTable
  data={[
    {
      name: 'revision',
      type: 'string',
      description:
        'An UUID used to distinguish between different revisions of a rich text document. If not set, a new one will be automatically generated.',
    },
    {
      name: 'children',
      type: 'string[] | ArrayUnion | ArrayRemove',
      description: (
        <span>
          The IDs of the <Code>RichTextElement</Code>s which make up
          the content of the document.
        </span>
      ),
    },
  ]}
/>

### delete

Deletes a rich text document and dispaches a `rich-text-document:delete` event. Returns the deleted document.

Deleted rich text documents can be restored using the `RichTextDocuments.restore` method.

```ts
RichTextDocuments.delete(core: Core, documentId: string): RichTextDocument
```

<ArgsTable
  core
  data={[
    {
      name: 'documentId',
      type: 'string',
      required: true,
      description: 'The ID of the rich text document to delete.',
    },
  ]}
/>

### restore

Restores a deleted rich text document and dispatches a `rich-text-documents:restore` event and an `rich-text-documents:update` event. Returns the restored document.

```ts
RichTextDocuments.restore(core: Core, documentId: string): RichTextDocument
```

<ArgsTable
  core
  data={[
    {
      name: 'documentId',
      type: 'string',
      required: true,
      description: 'The ID of the rich text document to restore.',
    },
  ]}
/>

### deletePermanently

Permanently deletes a rich text document and dispatches a `rich-text-documents:delete-permanently` event. Returns the deleted document.

Permanently deleted rich text documents cannot be restored.

```ts
RichTextDocument.deletePermanently(core: Core, documentId: string): RichTextDocument
```

<ArgsTable
  core
  data={[
    {
      name: 'documentId',
      type: 'string',
      required: true,
      description: 'The ID of the rich text document to delete.',
    },
  ]}
/>

### addParents

Adds parent references to a rich text document and dispatches a `rich-text-document:add-parents` event and a `rich-text-document:update` event. Returns the updated rich text document.

Throws a `RichTextDocumentNotFoundError` if the document does not exist.

```ts
RichTextDocuments.addParents(core: Core, documentId: string, parentReferences: RichTextDocumentParentReference[]): RichTextDocument
```

<ArgsTable
  core
  data={[
    {
      name: 'documentId',
      type: 'string',
      required: true,
      description:
        'The ID of the rich text document to which to add parents.',
    },
    {
      name: 'parentReferences',
      type: 'RichTextDocumentParentReference[]',
      required: true,
      description: (
        <span>
          The parent references to add to the rich text document. See
          the{' '}
          <a href="/docs/extensions/types/rich-text-document#richtextdocumentparentreference">
            <Code>RichTextDocumentParentReference</Code>
          </a>{' '}
          interface for details.
        </span>
      ),
    },
  ]}
/>

### removeParents

Remove parents references from a rich text document and dispaches a `rich-text-document:remove-parents` event and a `rich-text-document:update` event. Returns the updated rich text document.

Throws a `RichTextDocumentNotFoundError` if the document does not exist.

```ts
RichTextDocuments.removeParents(core: Core, documentId: string, parentReferences: RichTextDocumentParentReference[]): RichTextDocument
```

<ArgsTable
  core
  data={[
    {
      name: 'documentId',
      type: 'string',
      required: true,
      description:
        'The ID of the rich text document from which to remove parents.',
    },
    {
      name: 'parentReferences',
      type: 'RichTextDocumentParentReference[]',
      required: true,
      description: (
        <span>
          The parent references to remove from the rich text document.
          See the{' '}
          <a href="/docs/extensions/types/rich-text-document#richtextdocumentparentreference">
            <Code>RichTextDocumentParentReference</Code>
          </a>{' '}
          interface for details.
        </span>
      ),
    },
  ]}
/>

### load

Loads rich text documents into the store and dispatches a `rich-text-documents:load` event.

```ts
RichTextDocuments.load(core: Core, documents: RichTextDocument[]): void
```

<ArgsTable
  core
  data={[
    {
      name: 'documents',
      type: 'RichTextDocument',
      required: true,
      description: 'The rich text documents to load.',
    },
  ]}
/>

### clear

Clears all rich text documents from the store. This method is **only intended for use in tests**, do not use within your extension code.

```ts
RichTextDocuments.clear(): void
```

## RichTextDocument events

See below the table for more details on the data passed by rich text document related events.

<EventsTable
  data={[
    {
      name: 'rich-text-documents:create',
      data: 'RichTextDocument',
      description: 'Dispatched when a rich text document is created.',
    },
    {
      name: 'rich-text-documents:update',
      data: 'UpdateRichTextDocumentEventData',
      description: 'Dispatched when a rich text document is updated.',
    },
    {
      name: 'rich-text-documents:delete',
      data: 'RichTextDocument',
      description: 'Dispatched when a rich text document is deleted.',
    },
    {
      name: 'rich-text-documents:restore',
      data: 'RichTextDocument',
      description:
        'Dispatched when a deleted rich text document is restored.',
    },
    {
      name: 'rich-text-documents:delete-permanently',
      data: 'RichTextDocument',
      description:
        'Dispatched when a rich text document is permanently deleted.',
    },
    {
      name: 'rich-text-documents:add-parents',
      data: 'AddRichTextDocumentParentsEventData',
      description:
        'Dispatched when parents are added to a rich text document.',
    },
    {
      name: 'rich-text-documents:remove-parents',
      data: 'RemoveRichTextDocumentParentsEventData',
      description:
        'Dispatched when parents are removed from a rich text document.',
    },
    {
      name: 'rich-text-documents:load',
      data: 'RichTextDocument[]',
      description:
        'Dispatched when rich text documents are loaded into the store.',
    },
  ]}
/>

### RichTextDocument event data types

RichTextDocument events are dispatched with one of the following types of data.

#### RichTextDocument

See the [RichTextDocument](/docs/extensions/types/rich-text-document) interface page.

#### UpdateRichTextDocumentEventData

<InterfaceTable
  data={[
    {
      name: 'before',
      type: 'RichTextDocument',
      required: true,
      description: 'The rich text document before it was updated.',
    },
    {
      name: 'after',
      type: 'RichTextDocument',
      required: true,
      description: 'The updated rich text document.',
    },
    {
      name: 'changes',
      type: 'RichTextDocumentChanges',
      required: true,
      description:
        'The changes applied to the rich text document. See below for details.',
    },
  ]}
/>

`RichTextDocumentChanges`

<InterfaceTable
  data={[
    {
      name: 'updatedAt',
      type: 'Date',
      required: true,
      description:
        'Timestamp at which the rich text document was updated.',
    },
    {
      name: 'revision',
      type: 'string',
      required: true,
      description:
        'An UUID used to distinguish between different revisions of a rich text document.',
    },
    {
      name: 'children',
      type: 'string[] | ArrayUnion | ArrayRemove',
      description: (
        <span>
          The IDs of the <Code>RichTextElement</Code>s which make up
          the content of the document.
        </span>
      ),
    },
    {
      name: 'deleted',
      type: 'true',
      description: (
        <span>
          If <Code>true</Code>, the rich text document is deleted. Not
          present if the rich text document is not deleted.
        </span>
      ),
    },
    {
      name: 'deletedAt',
      type: 'Date',
      description: (
        <span>
          Timestamp at which the rich text document was deleted. Only
          set if
          <Code>deleted</Code> is <Code>true</Code>.
        </span>
      ),
    },
  ]}
/>

#### AddRichTextDocumentParentsEventData

<InterfaceTable
  data={[
    {
      name: 'richTextDocument',
      type: 'RichTextDocument',
      required: true,
      description:
        'The rich text document to which the parents were added.',
    },
    {
      name: 'parents',
      type: 'RichTextDocumentParentReference[]',
      required: true,
      description:
        'The references of the parents which were added to the rich text document.',
    },
  ]}
/>

#### RemoveRichTextDocumentParentsEventData

<InterfaceTable
  data={[
    {
      name: 'richTextDocument',
      type: 'RichTextDocument',
      required: true,
      description:
        'The rich text document from which the parents were removed.',
    },
    {
      name: 'parents',
      type: 'RichTextDocumentParentReference[]',
      required: true,
      description:
        'The references of the parents which were removed from the rich text document.',
    },
  ]}
/>
